var scales={"C major":["C","Dm","Em","F","G","Am","Bdim"],"C# major":["C#","D#m","E#m","F#","G#","A#m","B#dim"],"Db major":["Db","Ebm","Fm","Gb","Ab","Bbm","Cdim"],"D major":["D","Em","F#m","G","A","Bm","C#dim"],"Eb major":["Eb","Fm","Gm","Ab","Bb","Cm","Ddim"],"E major":["E","F#m","G#m","A","B","C#m","D#dim"],"F major":["F","Gm","Am","Bb","C","Dm","Edim"],"F# major":["F#","G#m","A#m","B","C#","D#m","E#dim"],"Gb major":["Gb","Abm","Bbm","Cb","Db","Ebm","Fdim"],"G major":["G","Am","Bm","C","D","Em","F#dim"],"Ab major":["Ab","Bbm","Cm","Db","Ebm","Fm","Gdim"],"A major":["A","Bm","C#m","D","E","F#m","G#dim"],"Bb major":["Bb","Cm","Dm","Eb","F","Gm","Adim"],"B major":["B","C#m","D#m","E","F#","G#m","A#dim"],"A minor":["Am","Bdim","C","Dm","Em","F","G"],"A# minor":["A#m","B#dim","C#","D#m","E#m","F#","G#"],"Bb minor":["Bbm","Cdim","Db","Ebm","Fm","Gb","Ab"],"B minor":["Bm","C#dim","D","Em","F#m","G","A"],"C minor":["Cm","Ddim","Eb","Fm","Gm","Ab","Bb"],"C# minor":["C#m","Ddim","E","F#m","G#m","A","B"],"D minor":["Dm","Edim","F","Gm","Am","Bb","C"],"D# minor":["D#m","E#dim","F#","G#m","A#m","B","C#"],"Eb minor":["Ebm","Fdim","Gb","Abm","Bbm","Cb","Db"],"E minor":["Em","F#dim","G","Am","Bm","C","D"],"F minor":["Fm","Gdim","Ab","Bbm","Cm","Db","Ebm"],"F# minor":["F#m","G#dim","A","Bm","C#m","D","E"],"G minor":["Gm","Adim","Bb","Cm","Dm","Eb","F"],"G# minor":["G#m","A#dim","B","C#","D#","E","F#"]};function chord(m){let o,e,n;if(m.includes("major")){let r=.05>Math.random();for(console.log("seven",r),r?o=7:(o=Math.floor(6*Math.random())+1,console.log("ch = ",o)),e=Math.floor(6*Math.random()+1);e==o;)e=Math.floor(6*Math.random()+1);for(console.log("ch alter = ",e),n=Math.floor(6*Math.random()+1),console.log(n);n==o||n==e;)n=Math.floor(6*Math.random()+1);console.log("ch alter 2",n)}else{let l=.05>Math.random();if(console.log("usetwo = ",l),l)o=2,console.log("ch = ",o);else{for(o=Math.floor(7*Math.random())+1,console.log("ch = ",o);2==o;)o=Math.floor(7*Math.random()+1);console.log("ch = ",o)}for(e=Math.floor(7*Math.random()+1);e==o||2==e;)e=Math.floor(7*Math.random()+1);for(console.log("ch alter = ",e),n=Math.floor(7*Math.random()+1);n==o||n==e||2==n;)n=Math.floor(7*Math.random()+1);console.log("ch alter 2 = ",n)}let t=Math.floor(101*Math.random()+1);t<100&&(t="\xa0"+t),t<10&&(t="\xa0"+t);let d=Math.floor(101*Math.random()+1);d<100&&(d="\xa0"+d),d<10&&(d="\xa0"+d);let i=Math.floor(101*Math.random()+1);return i<100&&(i="\xa0"+i),i<10&&(i="\xa0"+i),{ch:o,ch_alter:e,ch_alter2:n,seventh:t,additional:d,additional2:i}}function notesAndInversion(){let m=[0,3,5][Math.floor(3*Math.random()+0)];return{inv:m,notes_c:Math.floor(6*Math.random()+1)}}function getChords(m,o){let e=document.getElementById("resultCh");e.innerHTML="";let{inv:n,notes_c:r}=notesAndInversion(),l=scales[o];console.log("scale = ",l);let t=`inversion ${n}, notes = ${r}<br><br>`;for(let d=0;d<m;d++){let{ch:i,ch_alter:a,ch_alter2:$,seventh:b,additional:E,additional2:A}=chord(o);t+=`[${i}][ <span class="white-bold">${l[i-1].padEnd(5,"\xa0")}</span> ] %7 =${b}, (alt\u00A0${a}\u00A0${l[a-1].padEnd(5,"\xa0")}\u00A0${$}\u00A0${l[$-1].padEnd(5,"\xa0")}), (add\u00A0${E},\u00A0${A})<br>`}e.innerHTML=t}function rhythm(){let m=[.5,1,1],o=[1],e=0,n=1;for(;e<3;)o[n]=m[Math.floor(3*Math.random()+0)],(e+=o[n])>3&&(o[n]=o[n]-(e-3)),n++;return[o,n]}document.getElementById("randButton").onclick=function(){console.clear();let m=Math.floor(7*Math.random()+2);document.getElementById("num").value=m,document.getElementById("resultRh").innerHTML="";getChords(m,document.getElementById("scaleSelect").value)},document.getElementById("numButton").onclick=()=>{console.clear();let m;getChords(document.getElementById("num").value,document.getElementById("scaleSelect").value)},document.getElementById("rh").onclick=function(){console.clear();let m=rhythm();document.getElementById("resultRh").innerHTML=m[0].join(", ");let o=m[1];document.getElementById("num").value=o;getChords(o,document.getElementById("scaleSelect").value)},document.addEventListener("DOMContentLoaded",function(){var m=document.getElementById("infoText");m.style.display="none";var o=document.getElementById("infoButton");o.addEventListener("click",function(){"none"===m.style.display?(m.style.display="block",o.textContent="Hide Info"):(m.style.display="none",o.textContent="Show Info")})});
